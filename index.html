<html>
    <head>
        <title>GPA HCMUS Bookmarklet</title>
        <link href="default.css" type="text/css" rel="stylesheet">
    </head>
    <body>
         <div class="class2 memberprofile"> 
             <br>
             <br> 
             <br>
        <h2>GPA HCMUS Bookmarklet</h2>
     

        <ul>
            <li>B1. Nhấn và giữ phím chuột vào nút <b>"Khtn GPA"</b> bên dưới</li><li>Nếu thanh bookmark đang ẩn, nhấn Ctrl+ Shift+B để nó hiện lên trước</li>
            <li>B2. <b>Kéo chuột</b> vào thanh <b>Bookmark</b> của trình duyệt</li>
            <li>B3. Tới trang Tra cứu kết quả của <b>Portal</b></li>
            <li>B4. Nhấn chọn <b>"Tất cả"</b>, sau đó nhấn nút "Xem Kết Quả"</li>
            <li>B5. <b>Bấm</b> vào <b>bookmark</b> bạn đã tạo ở bước 2</li>
            <li> Xong :D</li>
        </ul>
        <br>
        <br>
        <a class="back" href="javascript:(function() { console.clear(); let tab = $(&quot;#tbDiemThiGK&quot;); const exceptCourses = [ &quot;Anh v&#259;n&quot;, &quot;Gi&aacute;o d&#7909;c qu&#7889;c ph&ograve;ng&quot;, &quot;Th&#7875; d&#7909;c&quot; ]; if (tab) { let mainTable = tab[0]; let rows = tab.find(&quot;tbody tr&quot;); let data = []; let exceptData = []; for (let i = 0; i < rows.length; i++) { const tds = $(rows[i]).find(&quot;td&quot;).not(&quot;.gpa-checkbox&quot;); let row = { id: i + 1, semester: $(tds[0]).text().trim().normalize(), course: $(tds[1]).text().trim().normalize(), credit: parseInt($(tds[2]).text().trim().normalize()), class: $(tds[3]).text().trim().normalize(), ldcode: $(tds[4]).text().trim().normalize(), score: parseFloat($(tds[5]).text().trim().normalize()), note: $(tds[6]).text().trim().normalize(), include: true, whyExclude: &quot;&quot; }; if(!row.credit) row.credit = 0; if(!row.score) row.score = 0; if (row.score < 5) { row.include = false; row.whyExclude += &quot;&#272;i&#7875;m nh&#7887; h&#417;n 5, ch&#432;a qua m&ocirc;n. &quot;; } else { let include = true; for (let j = 0; j < exceptCourses.length; j++) { if (row.course.includes(exceptCourses[j])) { include = false; row.whyExclude += &quot;H&#7885;c ph&#7847;n kh&ocirc;ng t&iacute;nh trong GPA. &quot;; break; } }; row.include = include; } for (let j = 0; j < data.length; j++) { if (data[j].course == row.course) { data[j].include = false; if(!data[j].whyExclude.includes(&quot;&#272;&atilde; h&#7885;c l&#7841;i&quot;)) data[j].whyExclude += &quot;&#272;&atilde; h&#7885;c l&#7841;i. &quot;; } } data.push(row); if (!row.include) exceptData.push(row); } let totalCredits = 0; let totalScores = 0; let gpa = 0; let howICalculated = &quot;%c &#272;i&#7875;m t&iacute;nh th&#7871; n&agrave;o nh&#7903; ?%c \n\n&quot;; let cssLog = [&quot;font-size:16px&quot;, &quot;font-size:normal&quot;]; for (let i = 0; i < data.length; i++) { let item = data[i]; if (item.include) { totalCredits += item.credit; totalScores += item.credit * item.score; howICalculated += &quot; &quot; + item.course + &quot;:%c &quot; + item.score + &quot;%c x%c &quot; + item.credit + &quot;%c =%c &quot; + item.credit * item.score + &quot;%c \n&quot;; cssLog.push(&quot;font-weight:bold;&quot;); cssLog.push(&quot;font-weight:normal;&quot;); cssLog.push(&quot;font-weight:bold;&quot;); cssLog.push(&quot;font-weight:normal;&quot;); cssLog.push(&quot;font-weight:bold;&quot;); cssLog.push(&quot;font-weight:normal;&quot;); } else { howICalculated += &quot;%c &quot; + item.course + &quot;: &quot; + item.score + &quot; x &quot; + item.credit + &quot;%c \n&quot;; cssLog.push(&quot;color:orange;text-decoration: line-through;&quot;); cssLog.push(&quot;color:black;&quot;); } } gpa = totalScores / totalCredits; console.log(&quot;%c \n Ch&agrave;o nh&eacute;, GPA n&egrave;:\n %c&quot; + gpa + &quot;\n&quot;, &quot;color:black&quot;, &quot;color:blue; font-size: 30px;&quot;); console.log(&quot;%c \n T&#7893;ng t&iacute;n ch&#7881;:\n %c&quot; + totalCredits + &quot;\n&quot;, &quot;color:black&quot;, &quot;color:blue; font-size: 30px;&quot;); console.log(&quot;%c \n T&#7893;ng &#273;i&#7875;m:\n %c&quot; + totalScores + &quot;\n&quot;, &quot;color:black&quot;, &quot;color:blue; font-size: 30px;&quot;); console.log(&quot;%c \n T&#7893;ng h&#7885;c ph&#7847;n:\n %c&quot; + data.length + &quot;\n&quot;, &quot;color:black&quot;, &quot;color:blue; font-size: 30px;&quot;); console.log(&quot;%c \n T&#7893;ng h&#7885;c ph&#7847;n trong GPA:\n %c&quot; + (data.length - exceptData.length) + &quot;\n&quot;, &quot;color:black&quot;, &quot;color:blue; font-size: 30px;&quot;); howICalculated += &quot;-------------\n&quot; + &quot;GPA : %c &quot; + totalScores + &quot; / &quot; + totalCredits + &quot; = &quot; + gpa; cssLog.push(&quot;font-weight:bold&quot;); let removedSection = &quot;%c Kh&ocirc;ng bao g&#7891;m h&#7885;c ph&#7847;n sau &#273;&acirc;y: \n\n%c&quot;; let removedCss = [&quot;font-size:16px&quot;, &quot;font-size:normal&quot;]; for (let i = 0; i < exceptData.length; i++) { removedSection += &quot;%c lo&#7841;i b&#7887;: %c&quot; + exceptData[i].course + &quot; (&quot; + exceptData[i].semester + &quot;)&quot; + &quot;\n%c l&yacute; do: %c&quot; + exceptData[i].whyExclude + &quot;\n\n%c&quot;; removedCss.push(&quot;color:black&quot;); removedCss.push(&quot;color:blue&quot;); removedCss.push(&quot;color:black&quot;); removedCss.push(&quot;color:red&quot;); removedCss.push(&quot;color:black&quot;); } removedSection += &quot;%c &quot; + exceptData.length + &quot; h&#7885;c ph&#7847;n &#273;&atilde; lo&#7841;i b&#7887;.%c\n&quot;; removedCss.push(&quot;color:red&quot;); removedCss.push(&quot;color:black&quot;); console.log(removedSection, ...removedCss); console.log(howICalculated, ...cssLog); console.log(&quot;(K&eacute;o l&ecirc;n &#273;&#7875; xem chi ti&#7871;t)&quot;); let headTr = tab.find(&quot;thead tr&quot;)[0]; if ($(headTr).find(&quot;th&quot;).length < 8) { let headTh = $($(headTr).find(&quot;th&quot;)[0]).clone(); $(headTh).attr(&quot;title&quot;, &quot;T&iacute;nh hay kh&ocirc;ng t&iacute;nh h&#7885;c ph&#7847;n n&agrave;y trong GPA&quot;); $(headTh).children().html(&quot;In GPA&quot;); $(headTr).prepend(headTh); for (let i = 0; i < rows.length; i++) { $(rows[i]).prepend('<td class= &quot;center gpa-checkbox&quot; style=&quot;width:60px;&quot; ><input type=&quot;checkbox&quot;' + ((data[i].include) ? &quot; checked &quot; : &quot;&quot;) + ' /></td>'); if(!data[i].include) { if(data[i].whyExclude.includes(&quot;kh&ocirc;ng t&iacute;nh&quot;)) $(rows[i]).attr(&quot;style&quot;,&quot;color:blue;text-decoration: line-through;&quot;); else $(rows[i]).attr(&quot;style&quot;,&quot;color:red;text-decoration: line-through;&quot;); } } let parentDiv = $(&quot;#lich-thi-dkhp&quot;)[0]; let gpaFieldSet = $('<fieldset><legend>Th&#7889;ng k&ecirc; GPA</legend><div id=&quot;tbGPA_wrapper&quot; class=&quot;dataTables_wrapper&quot; rold=&quot;grid&quot;><table id=&quot;tbGPA&quot; class=&quot;dkhp-table dataTable&quot;><thead></thead><tbody role=&quot;alert&quot; aria-live=&quot;polite&quot; aria-relevant=&quot;all&quot;></tbody></table></div><p style=&quot;margin-top: 10px; color: blue;&quot;><strong>(*)</strong>: Nh&#7845;n Ctr+Shift+I v&agrave; ch&#7885;n tab Console &#273;&#7875; xem chi ti&#7871;t t&iacute;nh to&aacute;n.</p></fieldset>'); let gpaTableHead = $(gpaFieldSet).find(&quot;thead&quot;)[0]; let gpaTableBody = $(gpaFieldSet).find(&quot;tbody&quot;)[0]; const gpaHeadCol1 = $($(headTr).find(&quot;th&quot;)[2]).clone(); $(gpaHeadCol1).attr(&quot;title&quot;,&quot;T&ecirc;n m&#7909;c&quot;); $(gpaHeadCol1).children().html(&quot;T&ecirc;n m&#7909;c&quot;); const gpaHeadCol2 = headTh.clone(); $(gpaHeadCol2).attr(&quot;title&quot;,&quot;Gi&aacute; tr&#7883;&quot;); $(gpaHeadCol2).children().html(&quot;Gi&aacute; tr&#7883;&quot;); $(gpaTableHead).append(gpaHeadCol1); $(gpaTableHead).append(gpaHeadCol2); $(gpaTableBody).append('<tr class=&quot;odd&quot;><td class=&quot;left &quot;>GPA</td><td class=&quot;center gpa&quot;>'+gpa+'</td></tr>'); $(gpaTableBody).append('<tr class=&quot;even&quot;><td class=&quot;left&quot;>T&#7893;ng t&iacute;n ch&#7881; &#273;&atilde; t&iacute;ch lu&#7929;</td><td class=&quot;center gpa&quot;>'+totalCredits+' t&iacute;n ch&#7881;</td></tr>'); $(gpaTableBody).append('<tr class=&quot;odd&quot;><td class=&quot;left&quot;>T&#7893;ng &#273;i&#7875;m &#273;&atilde; t&iacute;ch l&#361;y</td><td class=&quot;center gpa&quot;>'+totalScores+' &#273;i&#7875;m</td></tr>'); $(gpaTableBody).append('<tr class=&quot;even&quot;><td class=&quot;left&quot;>S&ocirc; h&#7885;c ph&#7847;n &#273;&atilde; &#273;&#259;ng k&yacute;</td><td class=&quot;center gpa&quot;>'+data.length+' h&#7885;c ph&#7847;n</td></tr>'); $(gpaTableBody).append('<tr class=&quot;odd&quot;><td class=&quot;left&quot;>S&#7889; h&#7885;c ph&#7847;n t&iacute;nh trong GPA</td><td class=&quot;center gpa&quot;>'+(data.length-exceptData.length)+' h&#7885;c ph&#7847;n</td></tr>'); $(parentDiv).prepend(gpaFieldSet); } else { for(let i = 0;i <rows.length;i++) { if(data[i].include) $($(rows[i]).find(&quot;input&quot;)[0]).attr('checked', 'checked'); else $($(rows[i]).find(&quot;input&quot;)[0]).removeAttr('checked'); } } } else alert(&quot;Sorry, couldn't parse this website&quot;); } )();"> Khtn GPA </a>
        <br>
        <br>
        <hr>
        <br>
        <a class="back" href="https://portal6.hcmus.edu.vn/SinhVien.aspx?pid=211" target="_blank"> Tới Portal thì nhấn vào đây ></a>
        </div>
    </body>
</html>